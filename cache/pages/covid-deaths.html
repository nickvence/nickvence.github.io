<p>I'm comparing deaths from natural causes (not homocide) between 2020 and 2019. After my interest
was piqued by a retracted article from John's Hopkins University, I
went to the <a class="reference external" href="https://data.cdc.gov/NCHS/Weekly-Counts-of-Death-by-State-and-Select-Causes/muzy-jte6">CDC</a> to acquire data. After some tinkering, I
figured decided to use facets to squeeze two categories (year, month)
on the x-axis while being able to stack (categorical) diseases on the y-axis.</p>
<img alt="/files/bar_chart.png" src="/files/bar_chart.png" style="width: 600px;" />
<img alt="/files/line_chart.png" src="/files/line_chart.png" style="width: 600px;" />
<p>These were generated by the following code.</p>
<pre class="code R"><a name="rest_code_bc96df2561c240b388c6a8c156f79369-1"></a><span class="c1">#Color info:   display.brewer.all()</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-2"></a><span class="c1">## Line Plot: take2</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-3"></a><span class="nf">ggplot</span><span class="p">(</span><span class="n">d20c</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">month</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">deaths</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="n">cause</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">cause</span><span class="p">))</span> <span class="o">+</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-4"></a>  <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-5"></a>  <span class="nf">facet_grid</span><span class="p">(</span><span class="n">year</span> <span class="o">~</span> <span class="n">.</span><span class="p">)</span> <span class="o">+</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-6"></a>  <span class="nf">labs</span><span class="p">(</span><span class="n">caption</span> <span class="o">=</span> <span class="s">&quot;data.cdc.gov/NCHS/Weekly-Counts-of-Death-by-State-and-Select-Causes/muzy-jte6&quot;</span><span class="p">,</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-7"></a>       <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Deaths vs Time&quot;</span><span class="p">)</span> <span class="o">+</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-8"></a>  <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">angle</span> <span class="o">=</span> <span class="m">90</span><span class="p">),</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-9"></a>        <span class="n">plot.title</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">hjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="m">18</span><span class="p">))</span> <span class="o">+</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-10"></a>  <span class="nf">ggsave</span><span class="p">(</span><span class="s">&quot;/Users/nvence/prog/COVID-19/data_CDC/line_chart.png&quot;</span><span class="p">)</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-11"></a>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-12"></a>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-13"></a><span class="n">prob</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.333</span><span class="p">,</span> <span class="m">0.361</span><span class="p">,</span> <span class="m">0.181</span><span class="p">)</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-14"></a><span class="nf">cumsum</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-15"></a><span class="n">eps</span> <span class="o">=</span> <span class="m">0.001</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-16"></a><span class="nf">curve</span><span class="p">(</span><span class="nf">log</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)),</span> <span class="n">eps</span><span class="p">,</span> <span class="m">1</span><span class="o">-</span><span class="n">eps</span><span class="p">,</span> <span class="m">500</span><span class="p">)</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-17"></a><span class="nf">curve</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">),</span> <span class="n">eps</span><span class="p">,</span> <span class="m">1</span><span class="o">-</span><span class="n">eps</span><span class="p">,</span> <span class="m">500</span><span class="p">)</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-18"></a><span class="n">box</span> <span class="o">=</span> <span class="m">3</span>
<a name="rest_code_bc96df2561c240b388c6a8c156f79369-19"></a><span class="nf">curve</span><span class="p">(</span><span class="nf">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="o">-</span><span class="n">box</span><span class="p">,</span> <span class="n">box</span><span class="p">,</span> <span class="m">100</span><span class="p">)</span>
</pre>